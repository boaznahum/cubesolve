When quiting in middle of solver, it fails due to unxepcted state.
  Need some how to throw ApplicationStopped exception

bug:) with DONT_OPTIMIZED_PART_ID=FALSE, test failed 3x3 after S

