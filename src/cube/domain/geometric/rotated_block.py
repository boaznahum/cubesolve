"""
RotatedBlock - Domain class for representing rotated blocks on cube faces.

Coordinate System (LTR):
- 7x7 face grid
- Row 0 at BOTTOM, row 6 at TOP
- Col 0 at LEFT, col 6 at RIGHT

Face Layout:
┌────┬────┬────┬────┬────┬────┬────┐
│ 60 │ 61 │ 62 │ 63 │ 64 │ 65 │ 66 │ ← top
├────┼────┼────┼────┼────┼────┼────┤
│ 50 │ 51 │ 52 │ 53 │ 54 │ 55 │ 56 │
├────┼────┼────┼────┼────┼────┼────┤
│ 40 │ 41 │ 42 │ 43 │ 44 │ 45 │ 46 │
├────┼────┼────┼────┼────┼────┼────┤
│ 30 │ 31 │ 32 │ 33 │ 34 │ 35 │ 36 │
├────┼────┼────┼────┼────┼────┼────┤
│ 20 │ 21 │ 22 │ 23 │ 24 │ 25 │ 26 │
├────┼────┼────┼────┼────┼────┼────┤
│ 10 │ 11 │ 12 │ 13 │ 14 │ 15 │ 16 │
├────┼────┼────┼────┼────┼────┼────┤
│ 00 │ 01 │ 02 │ 03 │ 04 │ 05 │ 06 │ ← bottom
└────┴────┴────┴────┴────┴────┴────┘
     ↑ col 0          col 6 ↑

Example: 2×3 block starting at [1, 2]:
┌────┬────┬────┬────┬────┬────┬────┐
│ 60 │ 61 │ 62 │ 63 │ 64 │ 65 │ 66 │
├────┼────┼────┼────┼────┼────┼────┤
│ 50 │ 51 │ 52 │ 53 │ 54 │ 55 │ 56 │
├────┼────┼────┼────┼────┼────┼────┤
│ 40 │ 41 │ 42 │ 43 │ 44 │ 45 │ 46 │
├────┼────┼────┼────┼────┼────┼────┤
│ 30 │ 31 │ 32 │ 33 │ 34 │ 35 │ 36 │
├────┼────┼────┼────┼────┼────┼────┤
│ 20 │ 21 │[22]│[23]│[24]│ 25 │ 26 │ ← row 2
├────┼────┼────┼────┼────┼────┼────┤
│ 10 │ 11 │[12]│[13]│[14]│ 15 │ 16 │ ← row 1
├────┼────┼────┼────┼────┼────┼────┤
│ 00 │ 01 │ 02 │ 03 │ 04 │ 05 │ 06 │
└────┴────┴────┴────┴────┴────┴────┘
          ↑ col 2

Block: Block([1,2], [2,4])
Block.cells iterator yields (row by row):
  [1,2], [1,3], [1,4]  → cells 12, 13, 14
  [2,2], [2,3], [2,4]  → cells 22, 23, 24

Face Rotation - Step by Step:
===================================

Step 1: Original face (before rotation)
┌────┬────┬────┬────┬────┬────┬────┐
│ 60 │ 61 │ 62 │ 63 │ 64 │ 65 │ 66 │
├────┼────┼────┼────┼────┼────┼────┤
│ 50 │ 51 │ 52 │ 53 │ 54 │ 55 │ 56 │
├────┼────┼────┼────┼────┼────┼────┤
│ 40 │ 41 │ 42 │ 43 │ 44 │ 45 │ 46 │
├────┼────┼────┼────┼────┼────┼────┤
│ 30 │ 31 │ 32 │ 33 │ 34 │ 35 │ 36 │
├────┼────┼────┼────┼────┼────┼────┤
│ 20 │ 21 │[22]│[23]│[24]│ 25 │ 26 │
├────┼────┼────┼────┼────┼────┼────┤
│ 10 │ 11 │[12]│[13]│[14]│ 15 │ 16 │
├────┼────┼────┼────┼────┼────┼────┤
│ 00 │ 01 │ 02 │ 03 │ 04 │ 05 │ 06 │
└────┴────┴────┴────┴────┴────┴────┘
          ↑ col 2

Step 2: After 90° CW face rotation - each cell moves to new position
Cell transformation: (r, c) → (c, n_slices-1-r) = (c, 6-r)

┌────┬────┬────┬────┬────┬────┬────┐
│ 60 │ 50 │ 40 │ 30 │ 20 │ 10 │ 00 │
├────┼────┼────┼────┼────┼────┼────┤
│ 61 │ 51 │ 41 │ 31 │ 21 │ 11 │[01]│
├────┼────┼────┼────┼────┼────┼────┤
│ 62 │ 52 │ 42 │ 32 │ 22 │[12]│[02]│
├────┼────┼────┼────┼────┼────┼────┤
│ 63 │ 53 │ 43 │ 33 │[23]│[13]│[03]│
├────┼────┼────┼────┼────┼────┼────┤
│ 64 │ 54 │ 44 │ 34 │ 24 │ 14 │ 04 │
├────┼────┼────┼────┼────┼────┼────┤
│ 65 │ 55 │ 45 │ 35 │ 25 │ 15 │ 05 │
├────┼────┼────┼────┼────┼────┼────┤
│ 66 │ 56 │ 46 │ 36 │ 26 │ 16 │ 06 │
└────┴────┴────┴────┴────┴────┴────┘

Original block cells at new positions:
  Cell 12 → [5,4]    Cell 13 → [4,4]    Cell 14 → [3,4]
  Cell 22 → [5,5]    Cell 23 → [4,5]    Cell 24 → [3,5]
"""

from dataclasses import dataclass


@dataclass(frozen=True)
class RotatedBlock:
    """Represents a rotated block of cells on a cube face."""

    ...